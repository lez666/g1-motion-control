# WBT Demo vs 修复后数据 - 详细对比报告

## 关键发现

### ⚠️ 严重问题：速度仍然过大！

修复后的数据速度是WBT原生demo的 **7.11倍**！

## 详细对比数据

### 关节速度 (joint_vel)

| 指标 | Demo (sub3_largebox_003) | 修复后 (fight1_subject3) | 比例 |
|------|-------------------------|-------------------------|------|
| **最大绝对值** | **7.82 rad/s** | **55.55 rad/s** | **7.11x** ⚠️ |
| 最大值 | 7.82 rad/s | 33.97 rad/s | 4.35x |
| 最小值 | -5.49 rad/s | -55.55 rad/s | 10.12x |
| 标准差 | 0.80 rad/s | 1.34 rad/s | 1.69x |

### Body线性速度 (body_lin_vel_w)

| 指标 | Demo | 修复后 | 比例 |
|------|------|--------|------|
| 最大速度 | 3.13 m/s | 3.57 m/s | 1.14x ✅ |

### Body角速度 (body_ang_vel_w)

| 指标 | Demo | 修复后 | 比例 |
|------|------|--------|------|
| 最大角速度 | 8.53 rad/s | 11.82 rad/s | 1.39x ⚠️ |

## 问题分析

### 1. 关节速度问题严重
- Demo的最大关节速度：**7.82 rad/s**（合理范围）
- 修复后的最大关节速度：**55.55 rad/s**（过大！）
- **差距：7.11倍**

### 2. Body速度相对正常
- Body线性速度：1.14倍（接近）
- Body角速度：1.39倍（略大但可接受）

### 3. 可能的原因

1. **原始retargeting数据本身速度就很大**
   - 可能retargeting过程有问题
   - 或者原始human motion数据速度就很大

2. **需要额外的缩放**
   - 可能除了LAFAN倍率(0.747)外，还需要其他缩放
   - 或者LAFAN倍率计算有误

3. **数据格式问题**
   - 可能数据转换过程中还有其他问题

## 建议

### 立即行动
1. **检查原始retargeting数据**
   - 查看retargeting输出的qpos数据
   - 检查retargeting过程是否正确

2. **进一步缩放速度**
   - 如果demo速度是标准，需要将速度再缩小 7.11倍
   - 或者检查是否需要应用额外的倍率

3. **检查原始human motion数据**
   - 查看原始BVH/npy文件的速度
   - 确认是否原始数据本身速度就很大

### 计算正确的倍率

如果目标是让速度接近demo（7.82 rad/s），那么：
- 当前修复后：55.55 rad/s
- 目标：7.82 rad/s
- **需要的总倍率：7.82 / 55.55 ≈ 0.141**
- **或者：7.82 / 74.36 ≈ 0.105**（从原始数据）

这意味着除了LAFAN倍率(0.747)外，还需要额外的 **0.141 / 0.747 ≈ 0.189** 倍缩放。

## 结论

**修复后的数据速度仍然过大，是demo的7.11倍！**

需要进一步调查：
1. 原始retargeting数据是否正确
2. 是否需要额外的速度缩放
3. 原始human motion数据是否正常
